---
header-id: ensuring-liferay-sync-security
---

# Liferay同期セキュリティの確保

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

管理者は、サーバーとの間のすべての接続のセキュリティに責任を持ちます。 @product@がHTTPSを使用するように構成されている限り、同期クライアントはユーザー提供の資格情報を使用して安全に通信します。 ユーザーは、アクセスが許可されているドキュメントとサイトにのみアクセスできます。 Syncモバイルクライアントでセキュリティモードをサポートし、ファイルを安全に送信するには、@product@サーバーでもSSLを使用する必要があります。 次のセクションでは、同期の権限が@product@インスタンスの権限とどのように連携するかを示します。

## Liferay同期権限のデモ

同期では、@product@のデフォルトの権限を使用して、ユーザーのデバイスと同期するファイルとフォルダーを決定します。 ユーザーがアクセスできるファイルのみを同期できます。 デスクトップ同期クライアントをインストールした後、次の手順に従ってこの機能をテストします。

まず、 `分類情報` を新しいテキストファイルに入力し、デスクトップに `secret.txt`として保存します。 次に、ブラウザーを使用して@product@にサインインし、ユーザー名 *secretagent* と電子メールアドレス *<secretagent@example.com>*新しいユーザーを作成します。 このユーザーにパスワードを与えてから、 *シークレットサイト*という新しいプライベートサイトを作成します。 サイトにページを作成し、ドキュメントとメディアアプリを追加します。 次に、secretagentユーザーをシークレットサイトに追加し、ユーザーに *Site Administrator* Roleを付与します。 secretagentとしてログインし、シークレットサイトに移動します。 次に、 `secret.txt` ドキュメントをDocuments and Mediaアプリにアップロードし` 。シークレットサイトのメンバーではないユーザーがいるため、Syncを介してそのドキュメントにアクセスできないことも確認してください。 そのようなユーザーがいない場合は、ここで作成してください。</p>

<p spaces-before="0">次に、Liferay Syncクライアントを構成して、secretagentユーザーの資格情報でサインインし、Secret Siteと同期します。 システムトレイからLiferay Syncメニューを開き、 <em x-id="3">Preferences</em>を選択します。 [ <em x-id="3">アカウント</em> ]タブで、ウィンドウの左下にあるプラスアイコンをクリックしてアカウントを追加します。 secretagentユーザーの資格情報を入力し、シークレットサイト以外のすべてのサイトのチェックを外します。 Syncが <code>secret.txt` ファイルを新しいSyncフォルダーにダウンロードしたことを確認します。 それを開いて、テキスト `分類情報`が含まれていることを確認します。 次に、同期を使用して、シークレットサイトに属していないユーザーで@product@インスタンスに接続します。 このユーザーはサイトのメンバーではないため、ファイルは同期されません。

次に、Sync Connector Adminに移動し、シークレットサイトのデフォルトのファイル権限を表示のみに設定します。 新しいユーザーを作成してシークレットサイトに追加し、Liferay同期クライアントにそのアカウントを追加します。 secretagentユーザーと同様に、ユーザーはシークレットサイトのメンバーであるため、Syncは `secret.txt` ファイルをこのユーザーのローカルSyncフォルダーにダウンロードします。 次に、このファイルを編集して保存します。 ローカルで編集して保存することはできますが、サイトのデフォルトのファイル権限は表示専用であるため、編集は同期されません。 同期を試みた後、ローカルのSyncフォルダー内のファイルの横に赤い *x* が表示されます。 ファイルを右クリックしてエラーを確認します。 ユーザーに必要な権限がないことを確認します。

![図1：ユーザーがファイルを表示する権限しか持っていないため、アップロードエラーが発生します。](../../../../images/sync-file-permissions-error.png)

エラーが同期を介して伝播しなかったことを確認するには、secretagentユーザーのローカル同期フォルダーにあるファイルを開きます。 まだ元のテキストが含まれています。 同様に、元のファイルはサイトのドキュメントとメディアポートレットに残ります。 他のユーザーのローカルSyncフォルダーのエラーを取り除くには、そこに戻ってファイルを右クリックし、[ *Download From Server*]を選択します。 これにより、ファイルが@product@インスタンスの最新のファイルに置き換えられます。

次に、secretagentユーザーのローカルSyncフォルダーの `secret.txt` を編集します。 他のユーザーのローカルのSyncフォルダーと@product@インスタンスのファイルを確認すると、Syncが編集を反映していることに注意してください。 secretagentユーザーがインスタンス内のファイルを所有しているため、変更が反映されました。 サイトのデフォルトのファイル権限が「表示のみ」に設定されている場合でも、所有者は自分のファイルで何でもできます。
