---
header-id: whats-new-with-search
---

# 検索の新機能

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

検索機能には多くの新機能があります。 この簡単な概要で、変更に慣れることができます。 詳細は残りの記事にあります。

## モジュール化された検索機能

以前のバージョンでは、すべての検索機能が1つの場所（検索ポートレット）にありました。 これで、各個別の機能を個別のポートレットで使用できるようになり、検索ウィジェットをページにドラッグアンドドロップして、完全にカスタマイズされた検索ページを作成できます。 以前のバージョンに存在していた検索構成は引き続き使用できますが、探している設定は、@ product-ver @での検索のモジュール化により、若干異なる場所にある可能性があります。 ここの記事は、新しい外観に慣れるのに役立ちます。

![図1：検索機能はいくつかのウィジェットに分散されています。](../../images/search-widgets.png)

## Elasticsearch 6

Elasticsearch 6のサポートは、@product@バージョン7.0の *オプトイン* 機能として追加されました。現在のバージョンでは、Elasticsearch 6がデフォルトの埋め込み検索エンジンです。 本番環境にリモートElasticsearchサーバーをインストールする方法については、 [Elasticsearch](/docs/7-1/deploy/-/knowledge_base/d/installing-elasticsearch) インストールに関する記事を参照してください。

![図2：Elasticsearch 6がデフォルトの検索エンジンです。](../../images/search-elasticsearch6.png)

## 検索管理

コントロールパネル（コントロールパネル→構成→検索）の検索管理アプリケーションで、検索管理タスク（検索インデックスの再インデックスなど）を実行します。

![図3：検索管理アプリケーションでコンテンツのインデックス再作成が行われるようになりました。](../../images/search-admin.png)

## デフォルト/カスタマイズ可能な検索ページ

事前構成された検索ページテンプレートを使用して、適切なデフォルトの検索ページを稼働させます。

![図4：検索ページテンプレートを使用して、サイトの専用検索ページを作成します。](../../images/search-page-template.png)

## 高度な検索構文

Elasticsearchのクエリ文字列構文を使用して、高度な検索クエリを作成します（検索エンジンとしてElasticsearchを使用している場合）。 実際のクエリ構文とその後の処理は、検索エンジンの実装の詳細によって異なります。 詳細については、検索プロバイダーのドキュメントを参照してください。

![図5：Elasticのクエリ文字列構文を使用して高度な検索クエリを作成します。](../../images/search-advanced-syntax.png)

## 複数のファセット用語の選択

ファセットを使用して検索結果を絞り込みます。 必要な数のファセット用語を選択して、結果の絞り込みを続けます。 以前は、各ファセットごとに一度に1つのファセット用語しか使用できませんでした。

![図6：ファセットとその用語を複数選択して、検索結果を絞り込むことができます。](../../images/search-multiple-facet-selection.png)

## システム設定の検索

システム全体の検索動作を設定するには、コントロールパネルの[システム設定の検索]カテゴリから[構成]→[システム設定]→[検索]を選択します。 検索Webエントリーは、デフォルトの検索エクスペリエンスを、新しい検索ウィジェットの使用から、以前のリリースで標準であった従来の検索ポートレットに戻します。

![図7：システム設定の検索Webエントリを使用して、クラシックなモノリシック検索ウィジェットを有効にします。](../../images/search-web-system-settings.png)

## カスタムファセット

カスタムファセットを構成して、分析されていないキーワードフィールドに新しい結果集計を作成します。

![図8：[クラスタイプID]フィールドでカスタムファセットを構成します。](../../images/search-custom-facet.png)

## 検索オプション

[ウィジェットの追加]メニューから[検索オプション]ウィジェットを追加して、ページスコープの検索動作を構成します。

![図9：検索オプションウィジェットは、配置されたページの検索エクスペリエンスを構成します。](../../images/search-options.png)

## ファセットフレンドリーURLを検索

新しい検索ウィジェットを使用して、ファセット用語を適用することにより、一部の検索結果をフィルタリングします。 URLは友好的です：

    http://localhost:8080/web/guest/search?q=test&modified=past-hour

## コードの変更と改善

開発者ガイドを見る

<!--(/docs/7-1/tutorials/-/knowledge_base/t/search)--> 新しいことを学ぶために、

検索インフラストラクチャの非推奨、削除されたAPIと拡張ポイント。

## Solr 7.xのサポート

Solr Connectorアプリケーションは、Solr 7.xをサポートするように更新されました。

読む [ここでは](discover/deployment/-/knowledge_base/7-1/installing-solr) より多くの情報のために。

## レガシー検索

これでごまかしています。 これは新機能ではありませんが、1つのスタンドアロンアプリケーション内で検索を行う従来の方法は、まだ1つのチェックボックスだけです（コントロールパネル→構成→システム設定→検索→Webの検索にあります）。 これにより、埋め込み検索アプリケーションは古いスタイルの検索ポートレットに戻ります。 従来の検索アプリケーションは、[ウィジェットの追加]メニュー（[ *ツール* カテゴリにあります）のどのページにも追加できます。

これらの新機能の使用と構成の詳細については、このセクションの残りのドキュメントを参照してください。
