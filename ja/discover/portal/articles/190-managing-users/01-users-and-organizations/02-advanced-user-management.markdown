---
header-id: user-management-additional-topics
---

# ユーザー管理：追加トピック

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

ユーザーの追加と編集の基本を学習しましたが、管理者が実行する必要のある最も基本的なタスクを超える追加の重要なトピックがあります。 これらについて学ぶために読んでください。

## パスワードのリセット

[ユーザーの追加]機能には、[パスワード]フォームの下部にある[ *パスワードのリセットが必要* チェックボックスが含まれています。 デフォルトのパスワードポリシーでは、管理者がこのオプションの選択を解除することもできません。 ただし、管理者は、このボックスを使用できるようにデフォルトのパスワードポリシーを変更できます。

1.  コントロールパネルの[ユーザー]で[ *パスワードポリシー* ]に移動します。

2.  *Default Password Policy*クリックします。

3.  [パスワードの変更]セクションで、[ *変更が必要]* スイッチャーの選択を解除し* 。 ここで、追加する各ユーザーが自分のパスワードをリセットする必要があるかどうかを決定できます。</p></li> </ol>

デフォルトポリシーの編集または独自のポリシーの作成の詳細については、パスワードポリシーに関する記事を参照してください。

## 管理ユーザーの追加

初めてポータルを設定する場合は、デフォルトの管理者アカウントを使用している可能性があります。これは、有名なLiferay管理者の1人のアカウント、 *テストテスト* またはそのいとこ、 *Joe Bloggs*です。 これらはデフォルトのアカウントであるため、ハッカーはそれらを知っているため、独自の管理者アカウントを設定することをお勧めします。 情報を使用してユーザーを追加し、ユーザーアカウントにデフォルトの管理者アカウントと同じ管理権限を付与します。

1.  左側のナビゲーションペイン（[ *Edit User* ページの[ *General* ]タブ）で[ *Roles* リンクをクリックします。 フォームのこのページには、アカウントが現在割り当てられているロールが表示されます。 デフォルトではロールは表示されません（ユーザーロールは削除できないため、表示されません）。

2.  [通常の役割]で[ *選択* クリックし、ユーザーアカウントに管理者の役割を割り当てます。 ダイアログボックスがポップアップし、ポータル内のすべての通常の（ポータルスコープの）ロールのリストが表示されます。 リストから管理者の役割を選択します（ *選択*選択）。 ダイアログボックスが閉じ、ロールがアカウントに関連付けられているロールのリストに追加されます。 これでポータル管理者になりました。 ログアウトしてから、自分のユーザーアカウントで再度ログインします。

| **パワーユーザー：** ユーザーには、デフォルトでパワーユーザーロールが割り当てられていません。 |パワーユーザーの役割は、ユーザーの役割よりも多くの権限を付与します。 ユーザーの役割が|パワーユーザーの役割は無視してください。 または、それを使用して提供します。 2番目のレベルのユーザー権限を付与して、それらのユーザーに割り当てます。 ある場合|すべてのポータルユーザーに付与したい特定のカスタム権限。これらの権限をユーザー役割に付与できます。 デフォルトをカスタマイズすることもできます|新規ユーザーが *デフォルトのユーザーアソシエーション*を介して受け取るロール。 これは|でカバーされています上の記事| [インスタンス設定](/docs/7-1/user/-/knowledge_base/u/setting-up-a-virtual-instance)。

本番環境では、ポータルを保護するために、デフォルトの管理者アカウントを常に削除または無効にする必要があります。

## ユーザープロフィール写真

ユーザーはプロフィール写真を持っています。 管理ユーザーは[ユーザーの編集]フォームで画像をアップロードでき、ユーザーは自分の個人サイトから自分のアカウント情報（画像を含む）を更新できます（*マイアカウント* → *アカウント設定*）。

![図1：[ユーザーの編集]フォームでユーザーアバターの画像をアップロードします。](../../../images/usrmgmt-ray-avatar.png)

ユーザーのプロフィール写真に画像が明示的にアップロードされていない場合、デフォルトのユーザーアイコンがユーザーアバターとして割り当てられます。 デフォルトでは、ユーザーのイニシャル（姓、名）がランダムな色で表示されます。

![図2：デフォルトのユーザープロファイル画像は、ランダムに色付けされたバブルの上にユーザーのイニシャルが付いたアイコンです。](../../../images/users-default-user-image.png)

ユーザープロフィール画像を生成するためのイニシャルベースのアプローチがポータルに適していない場合は、デフォルトアイコンにユーザーのイニシャルを含めないようにします。

1.  *コントロールパネル* → *構成* → *システム設定*ます。

2.  [プラットフォーム]セクションで、[ *ユーザー* ]→[ *ユーザーイメージ*]をクリックします。

3.  *選択を解除し、デフォルトのユーザーポートレートにイニシャルを使用します*。

これで、ユーザーのイニシャルを含むカラフルな円であるデフォルトのアイコンの代わりに、アイコンは人間のおおよその形状を含む灰色の円になります。

![図3：デフォルトのイニシャルベースのプロフィール画像を無効にすると、代わりにこのアイコンが使用されます。](../../../images/user-image-not-initials.png)

これは単なるデフォルトです。 独自のデフォルト画像で上書きするには

1.  100x100ピクセルの正方形の画像を少なくとも1つ作成します。 アプリケーションサーバーのクラスパスのどこかに配置します。

2.  これらの [ポータルプロパティ](https://docs.liferay.com/portal/7.1-latest/propertiesdoc/portal.properties.html)の値を上書きします。
   
        image.default.user.female.portrait=com/liferay/portal/dependencies/user_female_portrait.png
        image.default.user.male.portrait=com/liferay/portal/dependencies/user_male_portrait.png

3.  アプリケーションサーバーを再起動します。

上記の作業を行うには、新しいイメージをアプリケーションサーバーのクラスパスに配置する必要があります。 たとえば、Tomcatでは、 `tomcat / webapps / ROOT / WEB-INF / classes` フォルダーに画像を配置して、次のように指定できます。

    image.default.user.female.portrait=user_female_portrait-override.png
    image.default.user.male.portrait=user_male_portrait-override.png

`portal-ext.properties` ファイル内。 Tomcatを再起動すると、新しいデフォルトのイメージが古いイメージの代わりに使用されます。

| **注：** どのイニシャルをどのように表示するかを調整する方法があります。順序で、デフォルトのユーザーアイコン（ユーザーイニシャル付き）を機能させることができます。あなたのロケールのために。 これらの設定は|で構成されます。 [言語設定モジュール](/docs/7-1/tutorials/-/knowledge_base/t/using-liferays-language-settings)、|フレンドリーな開発者を誘拐し、彼に一杯のコーヒーを渡して、変更したい設定：| | `lang.user.default.portrait = initials` は、アバターに使用するアイコンのタイプを設定します。 |デフォルト値は *イニシャル*です。 イニシャルに設定した場合、次のプロパティ|表示するイニシャルとその順序を構成します。 または、|を指定します *image*これは、上記と同じ非イニシャルのデフォルト画像を提供します。 | | `lang.user.initials.fields = first-name、last-name` は、イニシャルを決定します|ユーザーのポートレートとその順序で表示されます。 ここでの設定は、| `lang.user.default.portrait` は *イニシャル*設定されています。 有効な値は、名、|です。ミドルネーム、ラストネーム、デフォルトとしてラストネーム。

## 数値スクリーン名

以前のバージョンでは、数値のユーザー画面名は、デフォルトのポータルプロパティを介してデフォルトで無効にされていました

    users.screen.name.allow.numeric=false

他のユーザー管理システム（LDAPなど）には同じ制限がなかったため、ユーザーのインポートがより困難になりました。 管理者は、インポートする前に最初に上記のプロパティを `true` に設定する必要があり、画面名がサイトIDと競合しないことを期待していました。 @ product-ver @では、このプロパティのデフォルトは `true` であり、数値のスクリーン名がサイトIDと競合する危険はありません。

    users.screen.name.allow.numeric=true

つまり、ユーザーのスクリーンネームを *24601*またはその他の考えられる任意の数値に自由に設定でき、数値のスクリーンネームを使用できるシステムからのインポートがよりスムーズになります。 これが、この機能を利用するために知っておくべきことのすべてです。 何が変更を可能にしたかを理解するために読んでください。

ユーザーには個人用サイトがあるため、ユーザー *24601*の個人用サイトへのURLは

    http://localhost:8080/web/24601

一方、巧妙に名前が付けられた *Test Site* デフォルトのサイトURLは

    http://localhost:8080/web/test-site

ここでは競合はありませんが、2つの条件が1つに簡単につながる可能性があります。

1.  *テストサイト*のグループIDは、ユーザーの画面名として選択された番号と一致します。 各サイトのデータベースには、グループIDと呼ばれる一意の数値識別子があります。 ユーザーの数値画面名と一致することを妨げるものは何もないため、上記の架空のユーザーと同じように、 `24601` にするのは簡単です。

2.  サイト管理者が一緒に来て、サイトのわかりやすいURLを `groupId`に一致するように変更します。 こんにちは、URLの競合\！ これで、サイトのURLはユーザーのURLと一致します。
   
        http://localhost:8080/web/24601

この競合はもはや起こりえません。 @ product-ver @では、サイトのわかりやすいURLを数値にすることはできません。 自分で見て：

1.  サイトの *構成* → *サイト設定* → *サイトURL* セクションに移動します。

2.  [Friendly URL]セクションで、 *24601* と入力してフォームを保存します。 一致するスクリーン名を持つユーザーがいない場合、失敗メッセージが表示されます。
   
        The friendly URL may conflict with another page.

    ユーザーのスクリーン名との競合が存在する場合は、このエラーメッセージが表示されます。
   
        Please enter a unique friendly URL. Site [user-first-name user-last-name] has the same friendly URL.

次に、組織でのユーザーの収集について学びます。
