---
header-id: geolocating-assets
---

# 資産の地理位置情報

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

ジオロケーションは、アセットが作成された地理座標をメタデータとしてアセットに追加します。 ジオロケーションメタデータをWebコンテンツ、データリスト、およびドキュメント & メディアに追加できます。 この機能は、すぐに使用できるように提供されています。 ただし、それを使用するには、まずアセットで有効にする必要があります。

Webコンテンツでジオロケーションを有効にする方法を見てみましょう。

## Webコンテンツの地理位置情報

Webコンテンツで地理位置情報を使用するには、地理位置情報フィールドを含む [構造とテンプレート](/docs/7-1/user/-/knowledge_base/u/designing-uniform-content) を作成する必要があります。

![図1：ジオロケーションフィールドを構造に追加して、Webコンテンツでジオロケーションを有効にします。](../../../images/geo-structure.png)

1.  上の画像のように、Geolocationフィールドを使用して構造を作成します。

2.  新しいテンプレートを作成し、地理位置情報フィールドで作成した構造を選択します。

3.  *Script* 見出しまでスクロールし、 *Fields* セクションを見つけます。 以下は *コンテンツ* と *ジオロケーション* スニペットです。

4.  スニペットをクリックしてテンプレートに追加し、 *Save*クリックします。

![図2：ContentおよびGeolocationスニペットを追加して、Webコンテンツテンプレートをすばやく作成します。](../../../images/web-content-geolocation-template.png)

Webコンテンツの場所を設定するには、ブラウザーで場所を共有したり、マップ上のアドレスバーに特定のアドレスを入力したり、インジケーターをドラッグしてマップ内の任意の場所にドロップすると、アドレスが自動的に更新されます新しいポイントを反映します。 Webコンテンツが保存されると、その場所がメタデータとしてWebコンテンツに追加されます。

![図3：アドレスバーに場所を入力したり、インジケーターを場所に移動したり、ブラウザーで場所を共有したりできます。](../../../images/web-content-geo-create.png)

|注：ブラウザの設定によっては、現在地を共有するように設定する必要があります。 | | ![図4：現在地を共有するようにブラウザーが構成されていることを確認します。](../../../images/share-location-dialog.png)

## データリストの地理位置情報

動的データリストで地理位置情報を使用するには、まず地理位置情報フィールドを含むデータ定義を作成する必要があります。

1.  *メニュー* を開き、 *コンテンツ* → *動的データリスト*ます。

2.  [ *オプション* ]メニューをクリックし、[ *データ定義の管理*]を選択します。

3.  *Add* ボタンをクリックして、新しいデータ定義を作成します。

4.  名前、オプションの説明、および親データ定義（ある場合）を入力します。

5.  下にスクロールして、 *Geolocation* フィールドをデータ定義に追加し、追加する他のフィールドと *Save*を追加します。

6.  [動的データリスト]画面に戻り、[ *追加* ]ボタン（![add](../../../images/icon-add.png)）をクリックして、新しいリストを作成します。

7.  名前とオプションの説明を入力します。

8.  最後に、[ *Select* ]ボタンをクリックして、新しく作成したデータ定義を選択します。

これでデータリストが完成したので、 [データリスト表示ポートレット](/docs/7-1/user/-/knowledge_base/u/creating-data-lists) を使用して表示できます。

## ドキュメントとメディアの地理位置情報

ドキュメントとメディアでジオロケーションを有効にするには、まずジオロケーションメタデータを含むドキュメントタイプを作成する必要があります。 位置情報メタデータをメタデータセットの一部として、または新しいドキュメントタイプの一部として追加できます。 メタデータセットの一部として位置情報メタデータを追加するには：

1.  *メニュー* を開き、 *コンテンツ* → *ドキュメントとメディア*ます。 *Options* （）メニューを開き、 *Metadata Sets*を選択します。

2.  *追加* （![add](../../../images/icon-add.png)）ボタンをクリックし、名前、オプションの説明、および親メタデータセット（ある場合）を入力します。

3.  下にスクロールして、 *ジオロケーション* フィールドと必要な追加フィールドを追加し、 *保存*ます。

地理位置情報を使用して新しいドキュメントタイプを作成するには：

1.  *Documents and Media*に移動し、 *Options* メニューを開き、 *Document Type*を選択します。

2.  [ *追加* ]ボタン（![add](../../../images/icon-add.png)）をクリックし、名前とオプションの説明を入力します。

3.  [メインメタデータフィールド]見出しまでスクロールし、 *ジオロケーション* フィールドと、ドキュメントタイプに必要な他のフィールドを追加します。

4.  メタデータセットを使用している場合は、[追加のメタデータフィールド]見出しまでスクロールし、[ *メタデータセットを選択* ]ボタンをクリックします。

5.  ジオロケーションメタデータを含むメタデータセットを選択し、 *保存*ます。

6.  *Documents and Media* 画面に戻り、 *Add* ボタン（![add](../../../images/icon-add.png)）をクリックして、新しく作成したドキュメントタイプを選択します。

7.  ドキュメントの情報を入力すると、Webコンテンツと同様に、現在地がブラウザから自動的に取得され、ドキュメントに追加されます。

アセットでジオロケーションが有効になったら、 [Asset Publisher](/docs/7-1/user/-/knowledge_base/u/publishing-assets) を使用して、マップ表示テンプレートを使用して、アセットの場所をマップに表示できます。 詳細については、「 [ディスプレイ設定](/docs/7-1/user/-/knowledge_base/u/configuring-display-settings) 構成」セクションをご覧ください。

![図5：Asset Publisherは、ジオロケーションされたアセットをマップに表示できます。](../../../images/geo-map.png)
