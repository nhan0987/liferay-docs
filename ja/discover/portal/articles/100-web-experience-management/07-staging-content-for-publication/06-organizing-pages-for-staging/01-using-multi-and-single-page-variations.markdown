---
header-id: using-multi-and-single-page-variations
---

# マルチページバリエーションとシングルページバリエーションの使用

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

ステージングバーから利用できる2つのページバリエーションオプションがあります。

  - *サイトページのバリエーション：* 一連のサイトページのさまざまなバリエーション。 たとえば、3つの個別のページがあり、これらのページを1つのセットとしてまとめながら変更したい場合に、これを使用できます。
  - *ページのバリエーション：* つのページのさまざまなバリエーション。 ページバリエーションは、サイトページバリエーション内にのみ存在できます。

ステージングバーで上記のオプションを使用するには、まず[ステージング構成]メニューでページのバージョン管理を有効にする必要があります。 これについては後で詳しく学びます。

バリエーションはページにのみ影響し、コンテンツには影響しません。つまり、ステージングサイトの既存のコンテンツはすべて、すべてのバリエーションで共有されます。 ただし、コンテンツは、ページのバリエーションごとにさまざまな方法で表示できます。 たとえば、さまざまなサイトページのバリエーションでは、さまざまなロゴ、ページのさまざまな外観、これらのページ上のさまざまなアプリケーション、これらのアプリケーションのさまざまな構成、さらにはさまざまなページを使用できます。 1つのページは、1つのサイトページバリエーションまたは複数のサイトページバリエーションに存在できます。 レイアウトタイプ（組み込み例えば、レイアウト、パネル、など）やページのフレンドリーURLの変更、ただし、 **ない** すべてのサイトのページの変動に影響を与えます。 たとえば、ページテンプレートが変更された場合、それらの変更はテンプレートから変更を継承するように構成されたページに伝達され、ステージングのページバリエーションとサイトページバリエーションが上書きされます。

| **注：** ページテンプレートは、ステージングフレームワークでは認識されません。 これは意味します|既存のページテンプレートは、ステージングされたサイトでは表示または編集できません。 |それらはステージングされたサイトで作成され、ステージングが完了すると保存できません。無効。 ただし、ページテンプレートをエクスポートおよびインポートすることはできます。

次に、ページのバージョン管理を有効にする方法について学習します。

## ページのバージョン管理を有効にする

最初の [がステージング](/docs/7-1/user/-/knowledge_base/u/enabling-staging)有効にすると、ステージング構成画面でページのバージョン管理が有効になります。

![図1：パブリックページまたはプライベートページ、あるいはその両方でページのバージョン管理を有効にできます。](../../../../images/page-versioning.png)

パブリックページとプライベートページのページバージョン管理を有効にできます。 ページのバージョン管理が有効になっている場合、ステージングバーでページのバリエーションオプションを使用できます。 デフォルトでは、1つのサイトページバリエーションとページバリエーションのみがあり、両方とも *メインバリエーション*と呼ばれ* 。</p>

ステージング環境の初期セットアップ中にページのバージョン管理を有効にしなかった場合は、製品メニュー→ *公開* → *ステージング* → *オプション* （![Options](../../../../images/icon-options.png)）→ *ステージング構成*ます。 そこでページのバージョン管理オプションを有効にすることができます。

## サイトページのバリエーションの使用

サイトページのバリエーションは、サイトの複数のページセットを一度に計画する必要がある場合に役立ちます。 たとえば、次のシナリオを考えます。

社内に別々のチームがあり、サイトに対して3つの大幅に異なるページセットを同時に作成する必要がある場合、チームは3つのサイトページのバリエーションを作成する必要があります。 例えば、

  - マーケティングチームは、ホリデーのサイトの外観をまったく異なるものにすることができます。
  - 製品管理チームは、新製品の発売のために年初に公開する予定のバージョンで作業できます。
  - 開発者関係チームは、来たるHack-a-thon日に公開する予定のバージョンに取り組むことができます。

この使用例では、計画されたページセットごとにサイトページのバリエーションがあるため、公開前に3つのアイデアを完全に計画して実装できます。

このシナリオの別のオプションは、製品管理チームにサイトのホームページの2つの異なるアイデアを試させることです。 これは、製品発売サイトの現在のサイトページバリエーション内にいくつかのページバリエーションを作成することで実行できます。 ページのバリエーションについては、後で詳しく説明します。

あなたがしたら [サイトページバリエーション作成](/docs/7-1/user/-/knowledge_base/u/creating-multi-and-single-page-variations)、あなたは現在、ホームページに移動し、移動アプリケーションは周りの、より多くのページには、configure異なるアプリ、の順序を変更し、ロゴを変更するには、新しいテーマを適用することができます。 他のバリエーションは影響を受けません。 既存のページを削除したり、新しいページを追加したりすることもできます（変更が完了したら、 *「発行準備完了としてマーク* 」を忘れないでください）。 ページを削除すると、現在のバリエーションでのみ削除されます。 新しいページを追加するときにも同じことが起こります。 現在のバリエーションで削除されたページにアクセスしようとすると、Liferayは、このページでこのページが *有効ではない* と通知しているため、有効にする必要があります。

![図2：[有効にする]ボタンを選択して、現在のサイトページのバリエーションで不足しているページを作成します。](../../../../images/enable-unavailable-page.png)

バリエーションをライブサイトに公開するには、ステージングメニューで[ *Publish to Live* ]をクリックし、[ *Publish to Live*]を選択します。 出版物は、異なるバリエーションに対して個別にスケジュールすることもできます。 たとえば、毎週月曜日にライブサイトに発行される *月曜日* というバリエーションと、毎月1日ごとにライブサイトに発行される *日1* というバリエーションを作成できます。

## ページパターンの使用

サイトページバリエーション内の単一のページのバリエーションを持つこともできます。これにより、ページの異なるバージョンで並行して作業できます。 たとえば、祝日サイトのページバリエーションのホームページのデザインに関する2つの異なる提案に取り組むことができます。 ページバリエーションは、サイトページバリエーション内にのみ存在します。

[ページバリエーション](/docs/7-1/user/-/knowledge_base/u/creating-multi-and-single-page-variations)作成したら、ステージングバーのドロップダウンメニューからページバリエーションを選択できます。 ステージングバーからバリエーションをクリックすると、いつでもバリエーションを切り替えることができます。

ページのバリエーションを希望どおりに変更したら、それを *出版準備*としてマークします。 公開の準備ができているとマークできるのは1つのページパターンのみであり、それがライブサイトに公開されます。 バリエーションをライブサイトに公開するには、ステージングメニューで[ *Publish to Live* ]をクリックし、[ *Publish to Live*]を選択します。

## バリエーション権限の管理

バリエーションごとに権限を設定することもできるため、特定のユーザーはすべてではなく一部のバリエーションを管理するためのアクセス権を持っています。 これをする、

1.  ステージングバーの[ *オプション* ]ボタン（![Options](../../../../images/icon-options.png)）に移動し、構成するバリエーションタイプを選択します。

2.  目的のバリエーションの *アクション* ボタン（![Actions](../../../../images/icon-actions.png)）を選択し、 *パーミッション*を選択します。

3.  バリエーションの権限を構成し、[ *保存*]をクリックします。

![図3：バリエーションにアクセスして変更できるロールを構成します。](../../../../images/page-variation-permissions.png)

驚くばかり\！ バリエーションの権限を管理する方法をマスターしました\！
