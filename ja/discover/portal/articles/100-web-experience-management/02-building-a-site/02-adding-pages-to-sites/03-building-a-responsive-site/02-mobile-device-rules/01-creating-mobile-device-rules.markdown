---
header-id: creating-mobile-device-rules
---

# モバイルデバイスルールの作成

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

モバイルデバイスルールを構成するには、デバイスの特性を確認する方法が必要です。 一部の特性はデバイスによって提供されますが、ほとんどは提供されません。 このため、何千ものデバイスに関する情報を含むデータベースがあります。 これらのデータベースにより、デバイスタイプからデバイスに関するあらゆる詳細を学習できます。 @product@のモバイルデバイスルールはデバイスデータベースに接続できるため、ルールでデバイスの特性を使用できます。

| **重要：** この記事で説明する機能を動作させるには、次の操作を行う必要があります。 Liferay MarketplaceからLiferay Mobile Device Detection（LMDD）アプリをインストールします。 |このアプリは、どちらを検出する必要があるデバイス検出データベースを提供します。モバイルデバイスがアクセスしています。 Liferay DXPを実行している場合、|インストールする必要があります| [LMDD](https://web.liferay.com/marketplace/-/mp/application/92831494) ライトバージョン|インストールする前に| [エンタープライズバージョン](https://web.liferay.com/marketplace/-/mp/application/35419014)。 | [ここをクリック](/docs/7-1/user/-/knowledge_base/u/using-the-liferay-marketplace) | Liferay Marketplaceを使用してアプリを見つけてインストールする方法については、

他のデバイスデータベースと統合するプラグインを開発できます。 デバイスデータベースがない場合でも、モバイルデバイスルールを設定できます。 ただし、ページリクエストの作成に使用されているデバイスに関する十分な情報がポータルにないため、データベースがデプロイされるまでは効果がありません。


<!-- Uncomment when the referenced article is published. Jim
To learn how to tap into @product@'s Device API, see the 
Using the Device Recognition API(/docs/7-1/tutorials/-/knowledge_base/t/using-the-device-recognition-api)
tutorial.
-->

モバイルデバイスファミリの管理ページにアクセスするには、

1.  *Product Menu*開きます。

2.  *サイトセレクター* （![Site Selector](../../../../../../images/icon-compass.png)）を使用して、モバイルデバイスルールを定義するサイトを選択します。

3.  [ *構成* →[ *モバイルデバイスファミリ*ます。

コントロールパネル→ *サイト* → *グローバル*移動して、すべてのサイトのファミリを追加することもできます。 モバイルデバイスファミリ管理ページには、定義されたファミリのリストが表示され、さらに追加することができます。 ルールを追加するには、最初にファミリを追加する必要があります。

1.  [ *追加* ]ボタン（![Add Family](../../../../../../images/icon-add.png)）をクリックして、 *新しいデバイスファミリ*を追加します。

2.  *名前* と *説明*入力し* 。</p></li>

3

[ *保存*クリックします。

4

モバイルデバイスファミリの名前をクリックして、ルールページにアクセスします。</ol>

![図1：ルールを作成できるようにモバイルデバイスファミリを作成します。](../../../../../../images/mobile-device-families.png)

ファミリーに定義されたルールは、特定のサイトまたはページに選択されたファミリーの優先順位とともに、特定のリクエストに適用されるファミリーのアクションを決定します。 特定のルールセットの[新しい分類ルール]ページから、オペレーティングシステム、ルールタイプ、物理画面サイズ、画面解像度を指定して、ルールを追加できます。 アクションを実行するデバイスを分類するために、必要な数のルールを家族に追加できることに注意してください。

1.  [ *追加* ]ボタン（![Add Classification Rule](../../../../../../images/icon-add.png)）をクリックして、新しいルールを追加します。

2.  *名前* と *説明*入力し* 。</p></li>

3

このルールにしたい分類を選択 *オペレーティングシステムとタイプ*、 *物理的な画面サイズ*、および *画面の解像度*。

4

[ *保存*クリックします。</ol>

分類ルールを保存した後、それが *Simple Rule*として特徴付けられていることに気付くでしょう。 @product@にはシンプルルールのみが含まれていますが、ルールは拡張可能に設計されており、開発者は追加のルールタイプを追加できます。

![図2：ルールのオペレーティングシステムとデバイスタイプを選択します。](../../../../../../images/mobile-device-editing-rule.png)

モバイルデバイスファミリをいくつか作成し、それらにいくつかのルールを追加したら、アクションを作成する準備が整います。 ファミリーに対して定義されたアクションにより、デバイスが検出され、ファミリーが適用されることが判明したときに、リクエストに何が起こるかが決まります。
| **ヒント：** オーディエンスターゲティングアプリケーションは、 *デバイス* ルールを提供します。ユーザーが特定のデバイスファミリを使用してコンテンツにアクセスしているかどうかを評価します。 |このルールは、モバイルデバイスファミリアプリに統合されています。 | | <!-- Add link once available (LRDOCS-4644)
| Visit the
| [Liferay Audience Targeting Rules](discover/portal/-/knowledge_base/7-1/liferay-audience-targeting-rules#device)
| section for more details.
| -->

ファミリは、それぞれの構成ページからサイト、個別のページ、またはページセットに追加できます。 ページセットに対してそれを行うには：

1.  サイトの *ビルド* → *ページ* します。

2.  パブリックページの[ *構成* （![Configure](../../../../../../images/icon-page-gear.png)）]をクリックし* 。</p></li>

3

[ *Advanced* ]タブを選択し、下部のメニューで[ *Mobile Device Rules* ]オプションを開きます。

4

*選択* を選択して、適用可能なファミリのリストを開きます。</ol>

同じページから、個々のページの構成にアクセスするか、 *構成* → *サイト設定*からサイト全体のモバイルデバイスルールを構成できます。 特定のサイトまたはページに複数のファミリを選択して、優先度順に並べることができます。 ファミリは優先度の高い順にチェックされます。最初に適用されたファミリによって定義されたアクションが実行されます。

![図3：サイトまたはページに申し込むモバイルデバイスファミリを選択できます。](../../../../../../images/mobile-device-selection.png)
