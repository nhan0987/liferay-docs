---
header-id: building-content-pages-from-fragments
---

# フラグメントからコンテンツページを構築する

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

ページフラグメントコレクションが公開されたら、ページテンプレートを作成できます。 ページテンプレートは、いくつかのフラグメント（1つまたは50）で構成されます。それは問題ではありません。

## ページテンプレートの作成

サイトテンプレートの *ページ* ページでページテンプレートを作成します。

1.  サイトのサイト管理から、 *ビルド* → *ページ*ます。

2.  [ページテンプレート]タブを選択します。 フラグメントと同様に、コンテンツページテンプレートはコレクションに作成する必要があります。 コレクションが[ページテンプレート]ページに表示されます。

3.  コレクションを追加するには、[ *New* ]ボタンをクリックします。

4.  *コレクションに名前* 、説明 **、 *保存*をクリックします。

5.  新しいコレクションをクリックします。

6.  *Add* アイコン（ ![Add Page Template](../../../../../../images/icon-add.png)）をクリックし、コレクション内から *Content Page Template* を選択します。

7.  *Name* を設定し、 *Submit*をクリックします。

これで、ページテンプレートの作成ページが表示されます。 フラグメントを追加するには、右側の[ *Fragments* ]タブからコレクションを選択し、ページに追加します。 異なるコレクションから複数のフラグメントを追加でき、同じフラグメントをページに複数回追加できます。 現在のページを構成するフラグメントを確認するには、「 *追加* タブをチェックします。 テンプレートは作業中に自動的に保存されますが、使用できるようにするには[ *発行* ]をクリックする必要があります。

![図1：フラグメントをドラッグしてページテンプレートを作成します。](../../../../../../images/content-page-template-creation.png)

テンプレートに編集可能なテキストが含まれている場合は、編集可能なテキスト領域をクリックしてテキストを変更できます。

![図2：テキストをインラインで編集すると、テンプレートの内容をカスタマイズできます。](../../../../../../images/edit-text-inline.png)

テンプレートに編集可能な画像が含まれている場合は、画像をクリックして、独自の画像をアップロードするか、[ドキュメントとメディア]から画像を選択することで置き換えることができます。

![図3：編集可能な画像の上にマウスを置くと、青い輪郭が表示されます。 クリックすることで交換できます。](../../../../../../images/edit-image-inline.png)

|注：ページテンプレートの作成中に、編集可能なフラグメントを変更できます。 ながら|最終的なコンテンツページを作成すると、ページテンプレートに変更を加えることができます。 |ページテンプレートのフラグメントに加えた変更は、その中にのみ反映されます。ページテンプレート。フラグメント自体には影響しません。 同様に、あなたが適用するとき|コンテンツページのテキストまたは画像の編集。これらの変更は|にのみ存在します。ページテンプレート自体ではなく、現在のページ。

上部の戻る矢印をクリックして、テンプレートの編集を停止します。

## コンテンツページの作成

ページテンプレートの作成が完了したら、そのテンプレートを使用してコンテンツページを作成できます。 コンテンツページは、フラグメントから作成されたページです。 開発者が編集可能として定義したページの属性は、ページまたはページテンプレートの作成中に編集できます。

1.  *Build* → *Pages*戻ります。

2.  *Add Page* の *Add* アイコン（ ![Add Page](../../../../../../images/icon-add.png)）をクリックし、 *Public Page*を選択します。

3.  左側の *コレクション* メニューから、使用するテンプレートを含むコレクションを選択します。

4.  使用するテンプレートをクリックします。

5.  *名前*入力し* 。</p></li>

6

[ *保存*クリックします。</ol>

ページはすぐに公開されますが、最終ページを編集できます。 選択したフラグメントを変更し、編集可能なフィールドを編集して、最終ページがページテンプレートと異なるようにすることができます。

![図4：ページテンプレートの選択。](../../../../../../images/selecting-template.png)

または、テンプレートなしでコンテンツページを作成することもできます。 ページ作成画面から、

1.  *コレクション*から *基本ページ* 選択し* 。</p></li>

2

*Content Page*選択し* 。</p></li>

3

*名前* を入力し、 *[保存]*をクリックします。

4

フラグメントを追加して、新しいページを作成します。</ol>

デフォルトでは、新しいページがナビゲーションメニューに追加され、ユーザーは作成したページにアクセスできます。

## ページフラグメントの変更の伝播

ページフラグメントまたはコンテンツページテンプレートを更新しても、変更は自動的に反映されませんが、[ *法と伝達* ページにアクセスして、変更を選択的に反映できます。

1.  Site Configurationメニューから、 *Build* → *Page Fragments*

2.  変更されたフラグメントを含むコレクションを選択します。

3.  フラグメントのメニューを開き、 *View Usages*を選択します。

![図5：* View Usages *を選択して、フラグメントの変更を伝達します。](../../../../../../images/fragment-view-usages.png)

*Usages and Propagation* Pageには、選択したページフラグメントを使用するすべてのページ、ページテンプレート、および表示ページのリストが表示されます。 次に、リストされているページの一部またはすべてにフラグメントの変更を選択的に伝達できます。 さまざまなフィルターと選択オプションを使用して、更新をページにすばやく適用できます。

![図6：[Usages and Propagation]ページの表示。](../../../../../../images/fragment-usages-and-propagation.png)

ページまたはテンプレートを更新するには、

1.  ページ名の横にあるチェックボックスをオンにして、更新するページを選択します。

2.  *Propagate* アイコン（ ![Propagate](../../../../../../images/icon-propagate.png)）をクリックします。

変更を反映した後、影響を受けるページにアクセスして、変更による予期しない副作用がないことを確認します。 既存の `編集可能な` フィールドへの変更は、現在コンテンツページにあるコンテンツを上書きするため、反映されません。 コンテンツへの伝播を強制的に `編集可能な` フィールド、開発者は、フィールドIDを変更する必要があります。 そのフィールドで作成されたコンテンツは、変更が伝達されるとコンテンツページに表示されなくなりますが、データベースに残り、古いIDを使用して取得できます。

次に、ページフラグメントをインポートおよびエクスポートする方法を学びます。
