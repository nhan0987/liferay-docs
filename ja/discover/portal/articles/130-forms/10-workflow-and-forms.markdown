---
header-id: sending-form-entries-through-a-workflow
---

# ワークフローとフォーム

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

[Kaleo](/docs/7-1/user/-/knowledge_base/u/workflow) は、提出されたアセットが公開される前にワークフロープロセスを通じて送信するためのワークフローエンジンです。 ほとんどのアセットは、インスタンスレベルまたはサイトレベルでワークフローを使用するように構成されています。

![図1：ワークフローは、ほとんどの@product@アセットのコントロールパネルまたはサイト管理で有効になっています。](../../images/workflow-configuration.png)

フォームが異なるため、アセットが上の画像に表示されません。 フォームには非常に多くのユースケースがあり、サイトごとに非常に多く存在する可能性があるため、サイトまたはインスタンススコープのワークフロー構成ではニーズにうまく対応できません。 その代わりに、構成ワークフローの *各フォーム* 別途。

## フォームでワークフローを有効にする

フォームでワークフローを有効にするには、

1.  メニューを開き、サイトを選択し、[ *コンテンツ]→[フォーム*]に移動して、目的のフォームをクリックして、フォームのエディターを開きます。

    ![図2：フォームに直接移動してワークフローを有効にします。](../../images/forms-list.png)

2.  [オプション]ボタン（![Options](../../images/icon-options.png)）をクリックし、[ *設定*]を選択します。

3.  [設定]ウィンドウには、[ *ワークフローの選択* ドロップダウンがあります。 目的のワークフローを見つけて選択し、[ *完了*]をクリックします。

    ![図3：[設定]ウィンドウで各フォームのワークフローを有効にします。](../../images/form-settings.png)

## ワークフローのテスト

ワークフロープロセスをテストします。

1.  フォームをページに追加します。

2.  フォームエントリを送信するには、 *Publication* に送信をクリックし* 。</p></li> </ol>

次に、フォームウィジェットでフォームエントリを見つけます。

1.  サイトの *Content* セクションのメニューでフォームアプリケーションに戻ります。

2.  フォームの *Actions* ボタン（![Actions](../../images/icon-actions.png)）をクリックし、 *View Entries*を選択します。

    エントリは現在 *Pending*マークされてい* 。</p></li> </ol>

次に、フォームレコードを承認します。

1.  *マイアカウント→マイワークフロータスク*ます。

2.  *My Roles to My Roles* タブをクリックします。

3.  フォームのエントリをクリックします。

4.  アクションボタン（クリック![Actions](../../images/icon-actions.png)）と選択 *わたしに割り当てを*。

5.  *Done*クリックし* 。</p></li>

6

[アクション]ボタン（![Actions](../../images/icon-actions.png)）をもう一度クリックして、[ *承認*]をクリックします。

7

もう一度[ *完了* クリックします。

8

フォームの[エントリの表示]画面に戻り、エントリが *承認済み*とマークされ* 。</p></li> </ol>

![図4：各エントリのステータスは、Formsアプリケーションの[Form Entries]画面に表示されます。](../../images/forms-view-entries-status.png)

## ユースケースの例：Lunar Resortへの無料のすべて込みの旅行を獲得する

ルナーリゾートは、いくつかの幸運な家族に無料のオールインクルーシブ旅行を提供しています。 ユーザーがしなければならないことは、サイトのホームページから *I Want a Free Trip* リンクをクリックして、3分以内に入力して送信できるフォームを表示することだけです。

![図5：Lunar Resort Giveawayフォームに記入する準備ができました。](../../images/forms-workflow-test.png)

Lunar Resortは、特定の資格を満たしていない人を除外したいと考えています。

  - 世帯に5人を超える家族がいる場合は除外します。
  - ルナーリゾートに行ったことのない家族を優先します。
  - リゾートのエッチなリストにある人は、「月のダークサイド」という適切なタイトルを付けて除外します。

ファイナリストのリストを作成するには、各フォームエントリが1つのレビュータスクのワークフローを通過する必要があります。 これには、単一の承認者のワークフローが適切に機能します。

上記の画像でフォームを作成した後、セクション</a>上の

説明されているように、フォームの[設定]ウィンドウから単一の承認者ワークフローを選択します。 フォームを発行してから、エントリに記入して送信します。 管理ユーザーは、フォームレコードが送信されたという通知を受け取ります。 [エントリの表示]画面に移動し、フォームレコードが現在保留中としてマークされていることを確認します。 レビューが完了すると、承認済みとしてマークされます。</p> 

![図6：いくつかの手順でフォームにワークフローを割り当てます。](../../images/forms-workflow-test.gif)
