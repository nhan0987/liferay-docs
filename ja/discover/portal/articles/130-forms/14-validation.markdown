---
header-id: validating-text-and-numeric-fields
---

# テキストと数値フィールドの検証

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

検証により、特定の値のみがフィールドに入力されることが保証されます。 検証機能は、テキストおよび数値フィールドで使用できます。

検証を有効にするには、

1.  ビルダービューのフォームにテキストフィールドまたは数値フィールドを追加します。

2.  フィールドの[ *プロパティ* ]タブを開きます。

3.  *検証* トグルをオンにして検証を有効にし、その構成オプションを開きます。

![図1：データを検証して、有用な情報のみを収集していることを確認します。](../../images/forms-text-validation.png)

## テキストフィールドの検証

テキストフィールドの検証には、いくつかのオプションが含まれています。 最初に、使用可能な条件のリストを選択して確認する必要があります。

  - 入力 **が含まれる場合
  - 入力した場合 *含まれていない*
  - 入力 *がURL*ない場合
  - 入力 *が電子メール*ない場合
  - 入力 *が*一致しない場合

条件が満たされない場合、ユーザーにエラーメッセージが表示されます。 そこからどこへ行くかは、使用した条件によって異なります。

### 入力に含まれる/含まない場合

テキストデータを検証して特定の値が含まれているかどうかを確認する場合、条件を選択した後に、次の2つの追加手順を実行する必要があります。

1.  チェックするテキストを入力します。

2.  エラーメッセージを入力して、送信が失敗した理由をユーザーが理解できるようにします。

![図2：* Liferay *がフィールドの値の一部でない場合、エラーメッセージが表示されます。](../../images/forms-text-val-contains.png)

### 入力がURL / Eメールでない場合

適切にフォーマットされたURLとメールを確認するのは簡単です。 *If Input* ドロップダウンから条件を選択し、エラーメッセージを入力するだけです。

有効なURLは `http：//` または `https：//`始まります。 有効なメールには `@`が含まれている必要があります。

![図3：テキストフィールドの検証を使用して、ユーザーが有効なメールアドレスまたはURLを入力していることを確認します。](../../images/forms-text-val-email.png)

### 入力が一致しない場合

*が一致しない* 条件は、 [正規表現](https://en.wikipedia.org/wiki/Regular_expression) を入力してカスタム検証基準を作成するために使用されます。 たとえば、次の正規表現を使用して、電話番号フィールドに10桁の連続した数字が入力されるようにします。

    ^[0-9]{10}$

正規表現の検証を使用する場合は、フォームのユーザーが適切なデータを入力できるように、説明テキスト（ヘルプテキスト、プレースホルダーテキスト、明確なエラーメッセージなど）を提供します。

![図4：正規表現のテキスト検証は、無数の可能性を切り開きます。](../../images/forms-text-val-regex.png)

## 数値フィールドの検証

数値フィールドの検証はテキストフィールドの検証に似ていますが、条件は入力された数値の値を他の値と比較します。

![図5：数値条件は、ユーザーが入力した数値データを制約します。](../../images/forms-numeric-val2.png)

確認できる条件は次のとおりです

  - 以上
  - より大きい
  - 等しくない
  - より小さいか等しい
  - より少ない

たとえば、ユーザーが10を超える数を入力しないようにするには、検証を有効にして、 *が* よりも大きく、値が *10*ます。 メッセージを使用してください *10以下を入力してください*。

![図6：ユーザーが入力した数値データが妥当な範囲内にあることを確認してください。 ランチに11個のサンドイッチは必要ありません。](../../images/forms-numeric-val1.png)

数値フィールドは、数値データの入力のみを許可するように検証されたテキストフィールドであることに注意してください。 これが、フォームフィールドリストの[カスタマイズされた要素]セクションにある理由です。 さらに、数値フォームの[基本]タブにあるプロパティ *My数値タイプは* （整数または10進数の可能性があります）は、検証の別の形式です。
