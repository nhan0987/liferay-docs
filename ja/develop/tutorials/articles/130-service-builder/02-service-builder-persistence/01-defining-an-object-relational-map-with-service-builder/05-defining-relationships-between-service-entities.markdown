---
header-id: defining-relationships-between-service-entities
---

# サービスエンティティ間の関係の定義

<p class="alert alert-info"><span class="wysiwyg-color-blue120">ご覧のページは、お客様の利便性のために一部機械翻訳されています。また、ドキュメントは頻繁に更新が加えられており、翻訳は未完成の部分が含まれることをご了承ください。最新情報は都度公開されておりますため、必ず英語版をご参照ください。翻訳に問題がある場合は、<a href="mailto:support-content-jp@liferay.com">こちら</a>までご連絡ください。</span></p>

[TOC levels=1-4]

あるタイプのエンティティを別のエンティティのコンテキストで参照することは、一般的な要件です。 これは、</em> エンティティを関連付ける *とも呼ばれ* 。 Liferayのブックマークアプリケーションは、エントリとそのフォルダの関係を定義します。</p>

前述したように、各ブックマークにはフォルダーが必要です。 したがって、各 `BookmarksEntry` エンティティはに関連しなければならない `BookmarksFolder` エンティティ。 `service.xml` のLiferay @ide@のダイアグラムモードは、エンティティの関連</code>容易にします。

1.  `service.xml` ファイルのダイアグラムモードを選択します。

2.  ビューの右側にあるパレットの[ *接続* ]の下の[ *リレーションシップ* ]オプションを選択します。 この関係ツールは、ダイアグラム内のエンティティ間の関係を描くのに役立ちます。

3.  最初のエンティティをクリックし、関連付けたいエンティティにカーソルを移動します。 Liferay @ide@は、選択したエンティティからカーソルに破線を描画します。

4.  2番目のエンティティをクリックして、関係の描画を完了します。 Liferay @ide@は、破線を実線に変え、矢印が2番目のエンティティを指すようにします。

5.  `service.xml` ファイルを保存します。

おめでとうございます！ 2つのエンティティを関連付けました。 それらの関係はダイアグラムモードで表示され、下図の関係に似ています。

![図1：エンティティの関連付けは、Liferay @ide@の <code>service.xml</code>の*図*モードのスナップです。](../../../../images/service-builder-relate-entities.png)

`service.xml` ファイルのエディターで *Source* モードに切り替え、Liferay @ide@が最初に選択されたエンティティに対応するエンティティインスタンス参照のIDを保持する列要素を作成したことに注意してください。 たとえば、 `BookmarksEntry` エンティティはこの列を使用して `BookmarksFolder` エンティティに関連付けます。

    <column name="folderId" type="long" />

エンティティ列が配置され、エンティティの関係が確立されたので、データベースからエンティティインスタンスを取得するデフォルトの順序を指定できます。
